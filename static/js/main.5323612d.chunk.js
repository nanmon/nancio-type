(this["webpackJsonptyping-game"]=this["webpackJsonptyping-game"]||[]).push([[0],{196:function(e,t,n){},197:function(e,t,n){},213:function(e,t,n){},214:function(e,t,n){},215:function(e,t,n){},216:function(e,t,n){},337:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/1.d7420ab5.wav"},338:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/2.9ee81949.wav"},339:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/3.c5b467d3.wav"},340:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/4.0f83ee86.wav"},341:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/5.1c9b447b.wav"},342:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/6.d6666621.wav"},343:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/7.a1d42fec.wav"},345:function(e,t,n){},346:function(e,t,n){},347:function(e,t,n){},348:function(e,t,n){},354:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),a=n(90),c=n.n(a),u=(n(196),n(197),n(185)),o=n(20),s=n(7),l=n(10);var d=n(32),f=(n(166),n(29)),p=n.n(f),b=n(21),m=n.n(b),j=["","Backspace"],h=["Alt","AltGraph","Control","Fn","Meta","OS"],g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split(" ").filter((function(e){return e}))},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split("")},v=function(e,t){var n=t.fontFamily,r=t.fontSize,i=document.createElement("canvas").getContext("2d");return i.font="".concat(r,"px ").concat(n),i.measureText(e).width},O=function(e,t,n){var r=n.width,i=g(t),a=p()(g(e),i),c=0,u=["",""],o=[];return a.forEach((function(e){var t=Object(s.a)(e,2),n=t[0],i=t[1];if(n){var a=n.length;i&&i.length>n.length&&(a=i.length),c+1+a>r?(c=a,o.push([u[0].trim(),u[1].trim()]),u=[n,i||""]):(c+=1+a,u[0]+=" "+n,i&&(u[1]+=" "+i))}})),u.length>0&&o.push(u),o};function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;if(0===e.timeline.length)return 0;var n=m()(e.timeline).timestamp,r=S(e,n-t,n+1e3,!1);if(0===r.length)return 0;var i=m()(r).typed,a={typed:i,content:e.content,timeline:r};return I(a)}function k(e){var t=e.typed,n=e.content,r=g(t),i=g(n.text);return!(r.length<i.length)&&(!!t.endsWith(" ")||r.pop()===i.pop())}function w(e){return I(e)-function(e){var t=0,n=g(e.typed);return p()(n,g(e.content.text)).forEach((function(e,r){var i=Object(s.a)(e,2),a=i[0],c=i[1];c&&a&&(r<n.length-1&&c.length>a.length&&t++,p()(y(a),y(c)).forEach((function(e){var n=Object(s.a)(e,2),r=n[0];n[1]!==r&&t++})))})),t}(e)/M(e)*1e3*60}function I(e){return function(e){return e.timeline.filter((function(e){return!j.includes(e.char)})).length}(e)/M(e)*1e3*60/5}function M(e){return 0===e.timeline.length?0:m()(e.timeline).timestamp-e.timeline[0].timestamp}function N(e){var t=e.typed,n=e.content;if(!t)return!1;var r=m()(t);if(j.includes(r))return!1;var i=g(t),a=m()(i),c=g(n.text)[i.length-1];if(!c)return!1;if(t.endsWith(" "))return c.length-a.length>0;var u=a[a.length-1];return c[a.length-1]!==u}function S(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e.timeline.findIndex((function(e){return e.timestamp>=t})),a=e.timeline.findIndex((function(e){return e.timestamp>=n}));return-1===i&&(i=0),-1===a&&(a=e.timeline.length-1),r&&(i>0&&i--,a<e.timeline.length-1&&a++),e.timeline.slice(i,a)}var B={init:function(e,t){return t.reset?{content:t.content,typed:"",screen:"typing",temp:{prevTime:0,delta:0,errors:0,count:0},timeline:[],config:{fontFamily:"monospace",fontSize:24,lineHeight:30,width:60,colors:{left:"gray",correct:"white",wrong:"red",extra:"darkred",caret:"cyan"}}}:Object(l.a)(Object(l.a)({},e),{},{content:t.content,timeline:[]})},typing:function(e,t){var n=function(e,t){var n=t.char,r=e.typed;if(" "===n&&r.endsWith(" "))return e;"Backspace"===n?r=r.substr(0,r.length-1):r+=n;return Object(l.a)(Object(l.a)({},e),{},{typed:r})}(e,t);return function(e){return k(e)?Object(l.a)(Object(l.a)({},e),{},{screen:"stats"}):e}(n=function(e,t){var n=t.char,r=t.time;if(!e.typed&&j.includes(n))return e;return Object(l.a)(Object(l.a)({},e),{},{timeline:[].concat(Object(d.a)(e.timeline),[{timestamp:r,char:n,typed:e.typed}])})}(n,t))},screen:function(e,t){return Object(l.a)(Object(l.a)({},e),{},{screen:t.screen})},merge:function(e,t){return Object.entries(t.state).some((function(t){var n=Object(s.a)(t,2),r=n[0],i=n[1];return e[r]!==i}))?Object(l.a)(Object(l.a)({},e),t.state):e}};function E(e,t){var n=B[t.type];return n?n(e,t):e}var C=n(2);var D=function(e){var t=e.position,n=e.focused,r=_(),a=r.config,c=r.typed,u=i.a.useState("caret"),o=Object(s.a)(u,2),l=o[0],d=o[1];if(i.a.useEffect((function(){d("caret");var e=setTimeout((function(){d("caret animated")}),500);return function(){return clearTimeout(e)}}),[c]),!t)return null;var f=Object(s.a)(t,2),p=f[0],b=f[1],m=v("a",a),j=b?1:0;return Object(C.jsx)("span",{className:l,style:{position:"absolute",top:0,left:0,transform:"translate(".concat(p*m+3,"px, ").concat(j*a.lineHeight+5,"px)"),color:a.colors.caret,visibility:n?"visible":"hidden"},children:"|"})},T=(n(213),i.a.memo((function(e){var t=e.text,n=e.typed,r=_().config,a=i.a.useMemo((function(){return n?t?n===t?"correct":"wrong":"extra":"left"}),[t,n]),c=r.colors[a],u=t||n,o=["Char",a].join(" ");return Object(C.jsx)("span",{className:o,style:{color:c},children:u})}))),F=(n(214),i.a.memo((function(e){var t=e.text,n=e.typed,r=e.current,i=_().config,a=p()(y(t),y(n)),c=!r&&n&&t!==n,u=["Word",c&&"redline",r&&"current"].filter((function(e){return e})).join(" "),o=v(" ",i);return Object(C.jsx)("div",{className:u,style:{marginRight:o,borderBottomColor:c?i.colors.wrong:"transparent"},children:a.map((function(e,t){var n=Object(s.a)(e,2),r=n[0],i=n[1];return Object(C.jsx)(T,{text:r,typed:i},t)}))})}))),K=(n(215),i.a.memo((function(e){var t=e.text,n=e.typed,r=g(n),i=p()(g(t),r,[void 0].concat(Object(d.a)(r)),r.slice(1));return Object(C.jsx)("div",{className:"Line",children:i.map((function(e,t){var r,i,a,c=Object(s.a)(e,4),u=c[0],o=c[1],l=c[2],d=c[3];return u&&Object(C.jsx)(F,{text:u,typed:o,current:(r=o,i=l,a=d,!n&&!i||(n.endsWith(" ")?null!=i&&null==r:null!=r&&null==a))},t)}))})})));var P=function(e){var t=e.onKeyPress,n=_(),r=n.content,a=n.typed,c=n.config,u=i.a.useContext(Z),o=i.a.useRef(null),l=i.a.useState(!1),d=Object(s.a)(l,2),f=d[0],p=d[1],b=i.a.useState(!1),m=Object(s.a)(b,2),j=m[0],y=m[1];i.a.useEffect((function(){var e;null===(e=o.current)||void 0===e||e.focus()}),[r.text]);var x=i.a.useMemo((function(){return O(r.text,a,c)}),[a,r,c]),k=i.a.useMemo((function(){return function(e,t){var n=g(t),r=0,i=e.findIndex((function(e){var t=g(e);return r+t.length>=n.length||(r+=t.length,!1)})),a=n.slice(r).join(" ").length;return t.endsWith(" ")&&a++,[a,i]}(x.map((function(e){return Object(s.a)(e,1)[0]})),a)}),[x,a]);function w(e){y(e.getModifierState("CapsLock"))}var I=i.a.useMemo((function(){return k[1]<2?x.slice(0,3):x.slice(k[1]-1,k[1]+2)}),[x,k]),M=3*c.lineHeight+10;return Object(C.jsxs)("div",{className:"TypingTest",style:{fontFamily:c.fontFamily,fontSize:c.fontSize+"px",lineHeight:c.lineHeight-1+"px"},children:[Object(C.jsx)("input",{ref:o,onKeyDown:function(e){if(w(e),!t(e,"down")){var n=e.key;if(!h.some((function(t){return e.getModifierState(t)})))return 1===n.length||"Backspace"===n?(u({type:"typing",char:n,time:Date.now()}),void e.preventDefault()):void 0}},onKeyUp:function(e){t(e,"up"),w(e)},style:{height:0,padding:0,border:0,position:"absolute"},onFocus:function(){return p(!0)},onBlur:function(){return p(!1)}}),Object(C.jsx)("p",{style:{visibility:j?"visible":"hidden"},children:"CAPSLOCK IS ACTIVE"}),Object(C.jsx)("div",{className:"threeLines",style:{height:M+"px",width:c.width*v("a",c)},children:Object(C.jsxs)("div",{className:"words",onClick:function(){var e;return null===(e=o.current)||void 0===e?void 0:e.focus()},style:{transform:"translateY(0px)"},children:[I.map((function(e){var t=Object(s.a)(e,2),n=t[0],r=t[1];return n&&Object(C.jsx)(K,{text:n,typed:r},n)})),Object(C.jsx)(D,{position:k,focused:f})]})})]})},A=n(361),q=n(180),H=n(181),L=n(359),z=n(182),U=n(183),Y=n(81);n(216);var R=function(){var e=_(),t=e.content,n=e.typed,r=e.config,a=function(e,t){var n=0,r=0,i=0,a=0;return p()(g(e),g(t)).forEach((function(e){var t=Object(s.a)(e,2),c=t[0],u=t[1];p()(y(c),y(u)).forEach((function(e){var t=Object(s.a)(e,2),c=t[0],u=t[1];c||a++,u?c===u?n++:r++:i++})),n++})),{correct:--n,incorrect:r,missing:i,extra:a}}(t.text,n),c=e.timeline[0].timestamp,u=(m()(e.timeline).timestamp-c)/1e3,o=i.a.useMemo((function(){var t=Array.from({length:Math.round(u)}).map((function(t,n){return{second:n+1,wpm:J(e,n),raw:W(e,n),errors:G(e,n),typed:V(e,n)}}));return m()(t).second=u,t}),[e,u]),l=i.a.useMemo((function(){var e=g(t.text).join("").length;return 100*(1-o.reduce((function(e,t){return t.errors?e+t.errors:e}),0)/e)}),[o,t]);return Object(C.jsxs)("div",{className:"Stats",children:[Object(C.jsxs)("div",{className:"wpm",children:[Object(C.jsx)("h3",{children:"wpm"}),Object(C.jsx)("h2",{children:Math.round(w(e))})]}),Object(C.jsxs)("div",{className:"acc",children:[Object(C.jsx)("h3",{children:"acc"}),Object(C.jsxs)("h2",{children:[Math.round(l),"%"]})]}),Object(C.jsx)("div",{className:"chart",children:Object(C.jsxs)(A.a,{width:15*r.width,height:300,data:o,children:[Object(C.jsx)(q.a,{type:"monotone",yAxisId:"wpm",dataKey:"raw",stroke:"darkred",fill:"darkred"}),Object(C.jsx)(q.a,{type:"monotone",yAxisId:"wpm",dataKey:"wpm",stroke:"red",fill:"red"}),Object(C.jsx)(H.a,{type:"monotone",yAxisId:"errors",dataKey:"errors",stroke:"black",fill:"gray"}),Object(C.jsx)(L.a,{stroke:"#fff3",strokeDasharray:"5 5"}),Object(C.jsx)(z.a,{type:"number",dataKey:"second",tickCount:10,domain:[1,"dataMax"],allowDecimals:!1}),Object(C.jsx)(U.a,{yAxisId:"wpm"}),Object(C.jsx)(U.a,{yAxisId:"errors",orientation:"right",allowDecimals:!1}),Object(C.jsx)(Y.a,{})]})}),Object(C.jsxs)("div",{className:"raw",children:[Object(C.jsx)("h3",{children:"raw"}),Object(C.jsx)("h2",{children:Math.round(I(e))})]}),Object(C.jsxs)("div",{className:"chars",children:[Object(C.jsx)("h3",{children:"characters"}),Object(C.jsxs)("h2",{children:[a.correct,"/",a.incorrect,"/",a.extra,"/",a.missing]})]}),Object(C.jsxs)("div",{className:"time",children:[Object(C.jsx)("h3",{children:"time"}),Object(C.jsxs)("h2",{children:[Math.round(u),"s"]})]})]})};function W(e,t){var n=e.timeline[0].timestamp,r=S(e,n+1e3*(t-1),n+1e3*(t+2),!0);if(0===r.length)return 0;var i={typed:m()(r).typed,content:e.content,timeline:r};return Math.round(I(i))}function J(e,t){var n=e.timeline[0].timestamp,r=S(e,n,n+1e3*(t+1),!0);if(0===r.length)return 0;var i={typed:m()(r).typed,content:e.content,timeline:r};return Math.round(w(i))}function G(e,t){var n=e.timeline[0].timestamp,r=S(e,n+1e3*t,n+1e3*(t+1),!1);return 0===r.length?null:r.reduce((function(t,n){return t+Number(N({typed:n.typed,content:e.content}))}),0)||null}function V(e,t){var n=e.timeline[0].timestamp,r=S(e,n,n+1e3*(t+1),!1);return 0===r.length?"":m()(r).typed}var X=function(e){var t=e.onKeyPress;return"stats"===_().screen?Object(C.jsx)(R,{}):Object(C.jsx)(P,{onKeyPress:t})},Q=i.a.createContext(ee({text:""})),Z=i.a.createContext(null);function $(e){var t=e.typed,n=e.content,r=e.onType,a=e.onKeyPress,c=void 0===a?function(){return!1}:a,u=e.restartOnContentChange,o=void 0===u||u,l=i.a.useReducer(E,null,(function(){return ee(n)})),d=Object(s.a)(l,2),f=d[0],p=d[1];i.a.useEffect((function(){p({type:"init",content:n,reset:o})}),[n,o]),i.a.useEffect((function(){t&&p({type:"merge",state:{typed:t}})}),[t]);var b=i.a.useRef(null);return i.a.useEffect((function(){r&&b.current!==f.typed&&(null!==b.current&&r(f),b.current=f.typed)}),[f,r]),Object(C.jsx)(Z.Provider,{value:p,children:Object(C.jsx)(Q.Provider,{value:f,children:Object(C.jsx)(X,{onKeyPress:c})})})}function _(){return i.a.useContext(Q)}function ee(e){return E(null,{type:"init",content:e,reset:!0})}var te=function(){var e=i.a.useState([]),t=Object(s.a)(e,2),n=t[0],r=t[1],a=i.a.useState(-1),c=Object(s.a)(a,2),u=c[0],o=c[1];i.a.useEffect((function(){fetch("https://raw.githubusercontent.com/Miodec/monkeytype/master/static/quotes/english.json").then((function(e){return e.json()})).then((function(e){var t=e.quotes;r(t),o(ne(t.length))}))}),[]);var l=i.a.useCallback((function(e){}),[]);return-1===u?Object(C.jsx)("div",{children:"Loading..."}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)($,{content:n[u],onType:l}),Object(C.jsx)("button",{onClick:function(){return o(ne(n.length))},children:"Next"})]})};function ne(e){return Math.floor(Math.random()*e)}var re=n(70),ie=n.n(re),ae=n(184),ce=n(123),ue=n.n(ce),oe=[void 0,n(337).default,n(338).default,n(339).default,n(340).default,n(341).default,n(342).default,n(343).default];var se=function(){var e=i.a.useState(null),t=Object(s.a)(e,2),n=t[0],r=t[1],a=i.a.useState(0),c=Object(s.a)(a,2),u=c[0],o=c[1],l=i.a.useState(null),d=Object(s.a)(l,2),f=d[0],p=d[1],b=i.a.useRef([]);return i.a.useLayoutEffect((function(){var e=Promise.all(b.current.map((function(e){return e.load(),new Promise((function(t){e.oncanplay=function(){return t(e)}}))})));fetch("/nancio-type/yoshi.txt").then(function(){var t=Object(ae.a)(ie.a.mark((function t(n){var i;return ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.text();case 2:return i=t.sent,t.next=5,e;case 5:r({text:i});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[]),n?Object(C.jsxs)(C.Fragment,{children:[oe.map((function(e,t){return e&&Object(C.jsx)("audio",{ref:function(e){return b.current[t-1]=e},muted:t!==u,preload:"auto",loop:!0,children:Object(C.jsx)("source",{src:e,type:"audio/wav"})},t)})),Object(C.jsx)($,{content:n,onType:function(e){if(f&&clearTimeout(f),k(e)){var t=w(e),n=ue()(Math.floor(t/15),1,oe.length-1);o(n)}else{var r=x(e),i=ue()(Math.floor(r/15),1,oe.length-1);o(i),b.current.forEach((function(e){e.play()}));var a=setTimeout((function(){o(0),b.current.forEach((function(e){e.pause(),e.currentTime=0}))}),1e3);p(a)}}})]}):Object(C.jsx)("div",{children:"Loading..."})},le=n(124),de=n.n(le),fe=n(60),pe=n.n(fe),be=new Intl.NumberFormat("en-US",{maximumFractionDigits:3,minimumFractionDigits:3}),me=new Intl.NumberFormat("en-US",{maximumFractionDigits:3}),je=new Intl.NumberFormat("en-US",{maximumFractionDigits:0,maximumSignificantDigits:3,minimumSignificantDigits:3}),he=new Intl.NumberFormat("en-US",{maximumFractionDigits:0});function ge(e){var t=Oe(e),n=Object(s.a)(t,2),r=n[0],i=n[1];return i<6?be.format(e):be.format(r)+"e"+i}function ye(e){var t=Oe(e),n=Object(s.a)(t,2),r=n[0],i=n[1];return i<6?me.format(e):me.format(r)+"e"+i}function ve(e){var t=Oe(e),n=Object(s.a)(t,2),r=n[0],i=n[1];return i<6?he.format(e):me.format(r)+"e"+i}function Oe(e){var t=Math.floor(Math.log10(e));return[e/Math.pow(10,t),t]}var xe=function(e,t){return t.load?Object(l.a)({},e):{bananas:0,totalBananas:0,bpsMultiplier:1,typer:{bpt:1,multiplier:1,totalBananas:0,gain:0,cpsPercent:0,count:0},buildings:[ke(0,"typewriter",.1,15),ke(1,"monke",1,100),ke(2,"bot",8,1100),ke(3,"server",47,12e3),ke(4,"crtypomine",260,13e4),ke(5,"bank",1400,14e5),ke(6,"temple",7800,2e7),ke(7,"spaceship",44e3,33e7),ke(8,"portal",26e4,51e8),ke(9,"time machine",16e5,75e9)],upgrades:[Ie(0,"typing lessons",100,0,1),Ie(1,"carpal tunneling",500,0,1),Ie(2,"ten fingers",1e4,0,10),Me(3,"thousand fingers",1e5,0,25,"add",.1),Me(4,"million fingers",1e7,0,50,"multiply",5),Me(5,"billion fingers",1e8,0,100,"multiply",10),Me(6,"trillion fingers",1e9,0,150,"multiply",20),Me(7,"quadrillion fingers",1e10,0,200,"multiply",20),Me(8,"quintillion fingers",1e13,0,250,"multiply",20),Ie(9,"monketype.com",1e3,1,1),Ie(10,"monke flip",5e3,1,5),Ie(11,"genes enhancer",5e4,1,25),Ie(12,"monke planet",5e6,1,50),Ie(13,"king kong",5e8,1,100),Ie(14,"monke rap",5e10,1,150),Ie(15,"dk!",5e13,1,200),Ie(16,"donkey kong!",5e16,1,250),Ie(17,"beep",11e3,2,1),Ie(18,"boop",55e3,2,5),Ie(19,"deep learning",55e4,2,25),Ie(20,"ai overturn",55e6,2,50),Ie(21,"george",55e8,2,100),Ie(22,"deep fake",55e10,2,150),Ie(23,"deep typing",55e13,2,200),Ie(24,"i, monke",55e16,2,250),Ie(25,"discord",12e4,3,1),Ie(26,"1st boost",6e5,3,5),Ie(27,"challenges",6e6,3,25),Ie(28,"wpm roles",6e8,3,50),Ie(29,"streams",6e10,3,100),Ie(30,"10k members",6e12,3,150),Ie(31,"boost lvl 3",6e15,3,200),Ie(32,"secret server",6e18,3,250),Ie(33,"autocorrect",13e5,4,1),Ie(34,"typocurrency",65e5,4,5),Ie(35,"tpu farm",65e6,4,25),Ie(36,"69 MH/s",65e8,4,50),Ie(37,"420 MH/s",65e10,4,100),Ie(38,"tpu shortage",65e12,4,150),Ie(39,"wall street crash",65e15,4,200),Ie(40,"codvi19 vaccine",65e18,4,250),Ie(41,"taller tellers",14e6,5,1),Ie(42,"titanium cards",7e7,5,5),Ie(43,"antiacid vaults",7e8,5,25),Ie(44,"banana coins",7e10,5,50),Ie(45,"exp. interests",7e12,5,100),Ie(46,"financial zen",7e14,5,150),Ie(47,"wallet way",7e17,5,200),Ie(48,"rationale stuffed",7e20,5,250),Ie(49,"golden idols",2e8,6,1),Ie(50,"sacrifices",1e9,6,5),Ie(51,"blessed fingers",1e10,6,25),Ie(52,"monkegod festival",1e12,6,50),Ie(53,"enlarged pantheon",1e14,6,100),Ie(54,"bowser in the sky",1e16,6,150),Ie(55,"creation myth",1e19,6,200),Ie(56,"dk rap prayers",1e22,6,250),Ie(57,"banana nebulae",33e8,7,1),Ie(58,"wormholes",165e8,7,5),Ie(59,"frequent flyer",165e9,7,25),Ie(60,"warp drive",165e11,7,50),Ie(61,"banana monoliths",165e13,7,100),Ie(62,"generation ship",165e15,7,150),Ie(63,"dyson sphere",165e18,7,200),Ie(64,"final frontier",165e21,7,250),Ie(65,"ancient keyboard",51e9,8,1),Ie(66,"typeling workers",255e9,8,5),Ie(67,"soul bond",255e10,8,25),Ie(68,"sanity dance",255e12,8,50),Ie(69,"brane transplant",255e14,8,100),Ie(70,"deity-sized portals",255e16,8,150),Ie(71,"big crunch plan",255e19,8,200),Ie(72,"maddening chants",255e22,8,250),Ie(73,"flux capacitors",75e10,9,1),Ie(74,"time paradox solver",375e10,9,5),Ie(75,"quantum conundrum",375e11,9,25),Ie(76,"causality enforcer",375e13,9,50),Ie(77,"yestermorrow comp",375e15,9,100),Ie(78,"far future enact",375e17,9,150),Ie(79,"great loop hypo",375e20,9,200),Ie(80,"second seconds",375e23,9,250),Ne(81,"pbc keycaps",5e4,1e3),Ne(82,"metal keycaps",5e6,1e5),Ne(83,"titanium keycaps",5e8,1e7),Ne(84,"adamantium keycaps",5e10,1e9),Ne(85,"unobtainium keycaps",5e12,1e11),Ne(86,"eludium keycaps",5e14,1e13),Ne(87,"wishalloy keycaps",5e16,1e15),Ne(88,"fantasteel keycaps",5e18,1e19),Se(89,"banana split",1e6,5e4,.01),Se(90,"sugar split",5e6,25e4,.01),Se(91,"oatmeal split",1e7,5e5,.01),Se(92,"peanut butter split",5e7,25e5,.02),Se(93,"coconut split",1e8,5e6,.02),Se(94,"almond split",1e8,5e6,.02),Se(95,"hazelnut split",1e8,5e6,.02),Se(96,"walnut split",1e8,5e6,.02),Se(97,"cashew split",1e8,5e6,.02),Se(98,"white chocosplit",5e8,25e6,.02),Se(99,"milk chocosplit",5e8,25e6,.02),Se(100,"macadamia split",1e9,5e7,.02),Se(101,"choco-chips split",5e9,25e7,.02),Se(102,"whitemaca split",1e10,5e8,.02),Se(103,"choco split",5e10,25e8,.02),Se(104,"dark chocosplit",1e11,5e9,.05),Se(105,"light chocosplit",1e11,5e9,.05),Se(106,"eclipse split",5e11,25e9,.02),Se(107,"zebra split",1e12,5e10,.02),Se(108,"snicker split",5e12,25e10,.02),Se(109,"waffle split",1e13,5e11,.02),Se(110,"macaroon split",5e13,25e11,.02),Se(111,"empire split",1e14,5e12,.02),Se(112,"madeleine split",5e14,25e12,.02),Se(113,"palmiers split",5e14,25e12,.02),Se(114,"palet split",1e15,5e13,.02),Se(115,"sabl\xe9 split",1e15,5e13,.02)],tech:{lastTimestamp:t.timestamp},config:{}}};function ke(e,t,n,r){return{id:e,name:t,baseBps:n,multiplier:1,price:r,owned:0,unlocked:!1,unlocksAt:r}}function we(e,t,n,r){for(var i=arguments.length,a=new Array(i>4?i-4:0),c=4;c<i;c++)a[c-4]=arguments[c];return{id:e,name:t,price:n,unlocked:!1,bought:!1,lock:r,effects:a}}function Ie(e,t,n,r,i){return we(e,t,n,{type:"building",buildingId:r,needed:i},{type:"efficiency",buildingId:r,multiplier:2})}function Me(e,t,n,r,i,a,c){return we(e,t,n,{type:"building",buildingId:r,needed:i},{type:"gain",buildingId:r,gainType:a,gain:c})}function Ne(e,t,n,r){return we(e,t,n,{type:"typing",needed:r},{type:"typing",cpsPercent:1})}function Se(e,t,n,r,i){return we(e,t,n,{type:"banana",needed:r},{type:"bpsMultiplier",bonus:i})}function Be(e){return pe()(e.buildings.map((function(t){return function(e,t){return Ce(e,t)*t.owned}(e,t)})))*e.bpsMultiplier}function Ee(e){var t=e.typer.bpt,n=pe()(e.buildings.slice(1).map((function(t){return t.owned*e.typer.gain}))),r=Be(e)*e.typer.cpsPercent/100;return(t+n)*e.typer.multiplier+r}function Ce(e,t){var n=t.baseBps*t.multiplier;return 0!==t.id?n*e.bpsMultiplier:(n+pe()(e.buildings.slice(1).map((function(t){return t.owned*e.typer.gain}))))*e.bpsMultiplier}var De=function(e,t){var n=Object(d.a)(e.upgrades),r=Object(l.a)({},n[t.upgradeId]);if(!r)return e;if(!r.unlocked)return e;if(r.bought)return e;if(e.bananas<r.price)return e;var i=Object(l.a)({},e);return i.bananas-=r.price,r.bought=!0,n[t.upgradeId]=r,i.upgrades=n,r.effects.forEach((function(e){(0,Te[e.type])(i,e)})),i},Te={efficiency:function(e,t){if(0===t.buildingId){var n=Object(l.a)({},e.typer);n.multiplier*=t.multiplier,e.typer=n}var r=Object(d.a)(e.buildings),i=Object(l.a)({},r[t.buildingId]);i.multiplier*=t.multiplier,r[t.buildingId]=i,e.buildings=r},gain:function(e,t){var n=Object(l.a)({},e.typer);"add"===t.gainType?n.gain+=t.gain:n.gain*=t.gain;e.typer=n},typing:function(e,t){var n=Object(l.a)({},e.typer);n.cpsPercent+=t.cpsPercent,e.typer=n},bpsMultiplier:function(e,t){e.bpsMultiplier+=t.bonus}};var Fe={init:xe,tick:function(e,t){var n=t.timestamp-e.tech.lastTimestamp,r=Be(e)*n/1e3,i=e.bananas+r,a=Object(l.a)(Object(l.a)({},e),{},{bananas:i,totalBananas:e.totalBananas+r,tech:Object(l.a)(Object(l.a)({},e.tech),{},{lastTimestamp:t.timestamp})});return function(e){var t=e.buildings.map((function(t){return t.unlocked||t.unlocksAt>e.totalBananas?t:Object(l.a)(Object(l.a)({},t),{},{unlocked:!0})}));e.buildings=t}(e),function(e){e.upgrades=e.upgrades.map((function(t){return t.unlocked||"banana"!==t.lock.type||t.lock.needed>e.totalBananas?t:Object(l.a)(Object(l.a)({},t),{},{unlocked:!0})}))}(e),a},typed:function(e,t){var n=e.bananas;if("ignored"===t.char)return e;var r="correct"===t.char?1:.5,i=Ee(e)*r;n+=i;var a=Object(l.a)(Object(l.a)({},e),{},{bananas:n,totalBananas:e.totalBananas+i,typer:Object(l.a)(Object(l.a)({},e.typer),{},{count:e.typer.count+1,totalBananas:e.typer.totalBananas+i})});return function(e){e.upgrades=e.upgrades.map((function(t){return t.unlocked||"typing"!==t.lock.type||t.lock.needed>e.typer.totalBananas?t:Object(l.a)(Object(l.a)({},t),{},{unlocked:!0})}))}(a),a},buyBuilding:function(e,t){var n=Object(d.a)(e.buildings),r=Object(l.a)({},n[t.buildingId]);if(!r)return e;if(e.bananas<r.price)return e;var i=Object(l.a)({},e);return i.bananas-=r.price,r.owned++,r.price*=1.15,n[t.buildingId]=r,i.buildings=n,function(e,t){e.upgrades.forEach((function(n){if(!(n.unlocked||"building"!==n.lock.type||n.lock.buildingId!==t.id||n.lock.needed>t.owned)){var r=Object(l.a)(Object(l.a)({},n),{},{unlocked:!0});e.upgrades=Object(d.a)(e.upgrades),e.upgrades[r.id]=r}}))}(i,r),i},buyUpgrade:De};function Ke(e,t){var n=Fe[t.type];return n?n(e,t):e}var Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return i.a.useReducer(Ke,null,(function(){return xe(e,{type:"init",timestamp:Date.now(),load:null!=e})}))},Ae=(n(345),["q","w","e","r","t","y","u","i","o","p"]);function qe(e){var t=e.state,n=e.building,r=e.ctrlHeld,i=e.onBuy,a=Ae[n.id];return r?Object(C.jsxs)("button",{className:"Building key quick-shop",disabled:t.bananas<n.price,onClick:function(){return i(n.id)},children:[Object(C.jsx)("h2",{children:a}),Object(C.jsxs)("h4",{children:[n.owned," ",n.name]}),Object(C.jsxs)("p",{children:["b-",ve(n.price)]}),Object(C.jsxs)("p",{children:["bps+",ye(Ce(t,n))]})]}):Object(C.jsxs)("button",{className:"Building key quick-shop",disabled:t.bananas<n.price,onClick:function(){return i(n.id)},children:[Object(C.jsx)("h2",{children:a}),Object(C.jsx)("h4",{children:n.owned})]})}qe.KEYBINDS=Ae;var He=qe;n(346);var Le=function(e){var t,n=e.state,r=e.position;return t=function(e){return void 0!==e.building}(e)?"...":e.upgrade.effects.map((function(e){return(0,ze[e.type])(n,e)})),Object(C.jsx)("div",{className:"Tooltip",style:{left:r[0],top:r[1]-20},children:t})};var ze={efficiency:function(e,t){if(0===t.buildingId)return"typewriters and typer efficiency x".concat(t.multiplier);var n=e.buildings[t.buildingId];return"".concat(n.name,"s efficiency x").concat(t.multiplier)},gain:function(e,t){var n="add"===t.gainType?"gain +".concat(t.gain):"gain ".concat(t.gain,"x more");if(0===t.buildingId)return"typewriters and typer ".concat(n," from other buildings");var r=e.buildings[t.buildingId];return"".concat(r.name,"s ").concat(n," from other buildings")},typing:function(e,t){return"typing gains ".concat(t.cpsPercent,"% of bps")},bpsMultiplier:function(e,t){return"bps +".concat(100*t.bonus,"%")}},Ue=(n(347),["a","s","d","f","g","h","j","k","l","z","x","c","v","b","n","m"]);function Ye(e){var t=e.state,n=e.upgrade,r=e.index,a=e.ctrlHeld,c=e.onBuy,u=i.a.useState(null),o=Object(s.a)(u,2),l=o[0],d=o[1];function f(e){var t=e.clientX,n=e.clientY;d([t,n])}i.a.useEffect((function(){d(null)}),[a]);var p=Ue[r];return a?Object(C.jsxs)("div",{className:"Upgrade",onMouseMove:f,onMouseEnter:f,onMouseLeave:function(){return d(null)},children:[Object(C.jsxs)("button",{className:"key quick-shop",disabled:t.bananas<n.price,onClick:function(){return c(n)},children:[Object(C.jsx)("h2",{children:p}),Object(C.jsx)("h4",{children:n.name}),Object(C.jsxs)("p",{children:["b-",ve(n.price)]})]}),l&&Object(C.jsx)(Le,{state:t,upgrade:n,position:l})]}):Object(C.jsxs)("button",{className:"Upgrade key",disabled:t.bananas<n.price,onClick:function(){return c(n)},children:[Object(C.jsx)("h2",{children:p}),Object(C.jsx)("h4",{children:"o"})]})}Ye.KEYBINDS=Ue;var Re=Ye,We=(n(348),JSON.parse(localStorage.getItem("banana")||"null"));var Je=function(){var e=i.a.useState(""),t=Object(s.a)(e,2),n=t[0],r=t[1],a=i.a.useState((function(){return{text:de()({exactly:100,join:" "})}})),c=Object(s.a)(a,2),u=c[0],o=c[1],l=Pe(We),d=Object(s.a)(l,2),f=d[0],p=d[1],b=i.a.useState(0),h=Object(s.a)(b,2),g=h[0],y=h[1],v=i.a.useRef(null),k=i.a.useState(Date.now()),w=Object(s.a)(k,2),I=w[0],M=w[1],S=i.a.useState(!1),B=Object(s.a)(S,2),E=B[0],D=B[1],T=i.a.useMemo((function(){return f.buildings.filter((function(e){return e.unlocked}))}),[f.buildings]),F=i.a.useMemo((function(){return f.upgrades.filter((function(e){return e.unlocked&&!e.bought})).sort((function(e,t){return e.price-t.price}))}),[f.upgrades]),K=i.a.useMemo((function(){return Be(f)}),[f]),P=i.a.useMemo((function(){return 5*g*Ee(f)}),[g,f]);function A(e){p({type:"buyBuilding",buildingId:e})}function q(e){p({type:"buyUpgrade",upgradeId:e.id})}function H(e){var t=[9,7],n=pe()(t.slice(0,e)),r=pe()(t.slice(0,e+1)),i=F.slice(n,r);return Object(C.jsxs)("div",{className:"".concat(["home","bottom"][e],"-row"),children:[i.map((function(e,t){return Object(C.jsx)(Re,{state:f,upgrade:e,index:n+t,ctrlHeld:E,onBuy:q},e.id)})),Re.KEYBINDS.slice(n+i.length,r).map((function(e){return Object(C.jsx)("button",{className:"key",disabled:!0,children:Object(C.jsx)("h3",{children:e})},e)}))]})}i.a.useEffect((function(){if(!(Date.now()-I<1e4)){var e=JSON.stringify(f);localStorage.setItem("banana",e),M(Date.now())}}),[f,I]),i.a.useEffect((function(){var e=setInterval((function(){p({type:"tick",timestamp:Date.now()})}),50);return function(){return clearInterval(e)}}),[p]),i.a.useEffect((function(){var e=setInterval((function(){if(null!=v.current){var e=m()(v.current.timeline);if(e){if(Date.now()-e.timestamp>1e3)return y(0);var t=x(v.current);y(t/60)}}}),1e3);return function(){return clearInterval(e)}}),[]),i.a.useEffect((function(){if(!(n.length<500)){console.log("remove first lines");var e=O(u.text,n,v.current.config);e.splice(0,2),r((function(){var t=e.map((function(e){var t=Object(s.a)(e,2);t[0];return t[1]})).join(" ").trim();return n.endsWith(" ")&&(t+=" "),t})),o((function(){var t=e.map((function(e){return Object(s.a)(e,1)[0]})).join(" ");return{text:t+=" "+de()({exactly:50,join:" "})}}))}}),[n,u]);var L,z=["keyboard",E&&"quick-shop"].filter((function(e){return e})).join(" ");return Object(C.jsxs)("div",{className:"Banana",children:[Object(C.jsxs)("p",{children:["bananas: ",ge(f.bananas)]}),Object(C.jsxs)("p",{children:["bps: ",ye(K)," + ",ye(P),"(",(L=60*g,je.format(L))," wpm)"]}),Object(C.jsx)($,{typed:n,content:u,onType:function(e){v.current=e,r(e.typed);var t=m()(e.timeline);if(t){var n=t.char;j.includes(n)?p({type:"typed",char:"ignored"}):N(e)?p({type:"typed",char:"mistyped"}):p({type:"typed",char:"correct"})}},onKeyPress:function(e,t){if(!e.getModifierState("Control"))return D(!1),!1;if(D("down"===t||"Control"!==e.key),"down"===t)return!1;var n=He.KEYBINDS.indexOf(e.key);if(-1!==n){var r=f.buildings[n];return!r||(A(r.id),!0)}if(-1!==(n=Re.KEYBINDS.indexOf(e.key))){var i=F[n];return!!i&&(q(i),!0)}return!1},restartOnContentChange:!1}),Object(C.jsxs)("div",{className:z,children:[Object(C.jsxs)("div",{className:"top-row",children:[T.map((function(e){return Object(C.jsx)(He,{state:f,building:e,onBuy:A,ctrlHeld:E},e.id)})),He.KEYBINDS.slice(T.length).map((function(e){return Object(C.jsx)("button",{className:"key",disabled:!0,children:Object(C.jsx)("h3",{children:e})},e)}))]}),H(0),H(1)]}),!E&&T.length>0&&Object(C.jsx)("p",{className:"shop-sign",children:"hold ctrl to access shop"})]})};var Ge=function(){return Object(C.jsx)(u.a,{children:Object(C.jsxs)(o.d,{children:[Object(C.jsx)(o.b,{path:"/quotes",children:Object(C.jsx)(te,{})}),Object(C.jsx)(o.b,{path:"/yoshi",children:Object(C.jsx)(se,{})}),Object(C.jsx)(o.b,{path:"/banana",children:Object(C.jsx)(Je,{})}),Object(C.jsx)(o.a,{to:"/quotes"})]})})};var Ve=function(){return Object(C.jsx)("div",{className:"App",children:Object(C.jsx)("header",{className:"App-header",children:Object(C.jsx)(Ge,{})})})},Xe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,362)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),i(e),a(e),c(e)}))};c.a.render(Object(C.jsx)(i.a.StrictMode,{children:Object(C.jsx)(Ve,{})}),document.getElementById("root")),Xe()}},[[354,1,2]]]);
//# sourceMappingURL=main.5323612d.chunk.js.map