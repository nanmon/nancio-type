(this["webpackJsonptyping-game"]=this["webpackJsonptyping-game"]||[]).push([[6],{34:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return o})),n.d(e,"h",(function(){return u})),n.d(e,"d",(function(){return s})),n.d(e,"e",(function(){return l})),n.d(e,"g",(function(){return d})),n.d(e,"f",(function(){return f})),n.d(e,"c",(function(){return h}));var r=n(32),c=n(40),i=n.n(c),a=["","Backspace"],o=["Alt","AltGraph","Control","Fn","Meta","OS"],u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.split(" ").filter((function(t){return t}))},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.split("")},l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.length>t.length?e.substr(t.length):""},d=function(t,e){var n=e.fontFamily,r=e.fontSize,c=document.createElement("canvas").getContext("2d");return c.font="".concat(r,"px ").concat(n),c.measureText(t).width},f=function(t,e,n){var c=n.width,a=u(e),o=i()(u(t),a),s=0,l=["",""],d=[];return o.forEach((function(t){var e=Object(r.a)(t,2),n=e[0],i=e[1];if(n){var a=n.length;i&&i.length>n.length&&(a=i.length),s+1+a>c?(s=a,d.push([l[0].trim(),l[1].trim()]),l=[n,i||""]):(s+=1+a,l[0]+=" "+n,i&&(l[1]+=" "+i))}})),l.length>0&&d.push(l),d},h=function(t,e){var n=u(e),r=0,c=t.findIndex((function(t){var e=u(t);return r+e.length>=n.length||(r+=e.length,!1)})),i=n.slice(r).join(" ").length;return e.endsWith(" ")&&i++,[i,c]}},356:function(t,e,n){"use strict";n.r(e);var r=n(32),c=n(0),i=n.n(c),a=n(71),o=n(2);function u(t){return Math.floor(Math.random()*t)}e.default=function(){var t=i.a.useState([]),e=Object(r.a)(t,2),n=e[0],c=e[1],s=i.a.useState(-1),l=Object(r.a)(s,2),d=l[0],f=l[1];i.a.useEffect((function(){fetch("https://raw.githubusercontent.com/Miodec/monkeytype/master/static/quotes/english.json").then((function(t){return t.json()})).then((function(t){var e=t.quotes;c(e),f(u(e.length))}))}),[]);var h=i.a.useCallback((function(t){}),[]);return-1===d?Object(o.jsx)("div",{children:"Loading..."}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(a.a,{content:n[d],onType:h}),Object(o.jsx)("button",{onClick:function(){return f(u(n.length))},children:"Next"})]})}},65:function(t,e,n){},66:function(t,e,n){},67:function(t,e,n){},68:function(t,e,n){},71:function(t,e,n){"use strict";n.d(e,"c",(function(){return h})),n.d(e,"b",(function(){return j})),n.d(e,"e",(function(){return m})),n.d(e,"d",(function(){return v})),n.d(e,"a",(function(){return q})),n.d(e,"f",(function(){return J})),n.d(e,"g",(function(){return G}));var r=n(32),c=n(0),i=n.n(c),a=n(39);var o=n(44),u=(n(89),n(40)),s=n.n(u),l=n(54),d=n.n(l),f=n(34);function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;if(0===t.timeline.length)return 0;var n=d()(t.timeline).timestamp,r=O(t,n-e,n+1e3,!1);if(0===r.length)return 0;var c=d()(r).typed,i={typed:c,content:t.content,timeline:r};return b(i)}function j(t){var e=t.typed,n=t.content,r=Object(f.h)(e),c=Object(f.h)(n.text);return!(r.length<c.length)&&(!!e.endsWith(" ")||r.pop()===c.pop())}function m(t){return b(t)-function(t){var e=0,n=Object(f.h)(t.typed);return s()(n,Object(f.h)(t.content.text)).forEach((function(t,c){var i=Object(r.a)(t,2),a=i[0],o=i[1];o&&a&&(c<n.length-1&&o.length>a.length&&e++,s()(Object(f.d)(a),Object(f.d)(o)).forEach((function(t){var n=Object(r.a)(t,2),c=n[0];n[1]!==c&&e++})))})),e}(t)/p(t)*1e3*60}function b(t){return function(t){return t.timeline.filter((function(t){return!f.a.includes(t.char)})).length}(t)/p(t)*1e3*60/5}function p(t){return 0===t.timeline.length?0:d()(t.timeline).timestamp-t.timeline[0].timestamp}function v(t){var e=t.typed,n=t.content;if(!e)return!1;var r=d()(e);if(f.a.includes(r))return!1;var c=Object(f.h)(e),i=d()(c),a=Object(f.h)(n.text)[c.length-1];if(!a)return!1;if(e.endsWith(" "))return a.length-i.length>0;var o=i[i.length-1];return a[i.length-1]!==o}function O(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=t.timeline.findIndex((function(t){return t.timestamp>=e})),i=t.timeline.findIndex((function(t){return t.timestamp>=n}));return-1===c&&(c=0),-1===i&&(i=t.timeline.length-1),r&&(c>0&&c--,i<t.timeline.length-1&&i++),t.timeline.slice(c,i)}var g={init:function(t,e){return e.reset?{content:e.content,typed:"",screen:"typing",temp:{prevTime:0,delta:0,errors:0,count:0},timeline:[],config:{fontFamily:"monospace",fontSize:24,lineHeight:30,width:60,colors:{left:"gray",correct:"white",wrong:"red",extra:"darkred",caret:"cyan"}}}:Object(a.a)(Object(a.a)({},t),{},{content:e.content,timeline:[]})},typing:function(t,e){var n=function(t,e){var n=e.char,r=t.typed;if(" "===n&&r.endsWith(" "))return t;"Backspace"===n?r=r.substr(0,r.length-1):r+=n;return Object(a.a)(Object(a.a)({},t),{},{typed:r})}(t,e);return function(t){return j(t)?Object(a.a)(Object(a.a)({},t),{},{screen:"stats"}):t}(n=function(t,e){var n=e.char,r=e.time;if(!t.typed&&f.a.includes(n))return t;return Object(a.a)(Object(a.a)({},t),{},{timeline:[].concat(Object(o.a)(t.timeline),[{timestamp:r,char:n,typed:t.typed}])})}(n,e))},screen:function(t,e){return Object(a.a)(Object(a.a)({},t),{},{screen:e.screen})},merge:function(t,e){return Object.entries(e.state).some((function(e){var n=Object(r.a)(e,2),c=n[0],i=n[1];return t[c]!==i}))?Object(a.a)(Object(a.a)({},t),e.state):t}};function x(t,e){var n=g[e.type];return n?n(t,e):t}var y=n(2);var w=function(t){var e=t.position,n=t.focused,c=J(),a=c.config,o=c.typed,u=i.a.useState("caret"),s=Object(r.a)(u,2),l=s[0],d=s[1];if(i.a.useEffect((function(){d("caret");var t=setTimeout((function(){d("caret animated")}),500);return function(){return clearTimeout(t)}}),[o]),!e)return null;var h=Object(r.a)(e,2),j=h[0],m=h[1],b=Object(f.g)("a",a),p=m?1:0;return Object(y.jsx)("span",{className:l,style:{position:"absolute",top:0,left:0,transform:"translate(".concat(j*b+3,"px, ").concat(p*a.lineHeight+5,"px)"),color:a.colors.caret,visibility:n?"visible":"hidden"},children:"|"})},k=(n(65),i.a.memo((function(t){var e=t.text,n=t.typed,r=J().config,c=i.a.useMemo((function(){return n?e?n===e?"correct":"wrong":"extra":"left"}),[e,n]),a=r.colors[c],o=e||n,u=["Char",c].join(" ");return Object(y.jsx)("span",{className:u,style:{color:a},children:o})}))),M=(n(66),i.a.memo((function(t){var e=t.text,n=t.typed,c=t.current,i=J().config,a=s()(Object(f.d)(e),Object(f.d)(n)),o=!c&&n&&e!==n,u=["Word",o&&"redline",c&&"current"].filter((function(t){return t})).join(" "),l=Object(f.g)(" ",i);return Object(y.jsx)("div",{className:u,style:{marginRight:l,borderBottomColor:o?i.colors.wrong:"transparent"},children:a.map((function(t,e){var n=Object(r.a)(t,2),c=n[0],i=n[1];return Object(y.jsx)(k,{text:c,typed:i},e)}))})}))),C=(n(67),i.a.memo((function(t){var e=t.text,n=t.typed,c=Object(f.h)(n),i=s()(Object(f.h)(e),c,[void 0].concat(Object(o.a)(c)),c.slice(1));return Object(y.jsx)("div",{className:"Line",children:i.map((function(t,e){var c,i,a,o=Object(r.a)(t,4),u=o[0],s=o[1],l=o[2],d=o[3];return u&&Object(y.jsx)(M,{text:u,typed:s,current:(c=s,i=l,a=d,!n&&!i||(n.endsWith(" ")?null!=i&&null==c:null!=c&&null==a))},e)}))})})));var N=function(t){var e=t.onKeyPress,n=J(),c=n.content,a=n.typed,o=n.config,u=G(),s=i.a.useRef(null),l=i.a.useState(!1),d=Object(r.a)(l,2),h=d[0],j=d[1],m=i.a.useState(!1),b=Object(r.a)(m,2),p=b[0],v=b[1];i.a.useEffect((function(){var t;null===(t=s.current)||void 0===t||t.focus()}),[c.text]);var O=i.a.useMemo((function(){return Object(f.f)(c.text,a,o)}),[a,c,o]),g=i.a.useMemo((function(){return Object(f.c)(O.map((function(t){return Object(r.a)(t,1)[0]})),a)}),[O,a]);function x(t){v(t.getModifierState("CapsLock"))}var k=i.a.useMemo((function(){return g[1]<2?O.slice(0,3):O.slice(g[1]-1,g[1]+2)}),[O,g]),M=3*o.lineHeight+10;return Object(y.jsxs)("div",{className:"TypingTest",style:{fontFamily:o.fontFamily,fontSize:o.fontSize+"px",lineHeight:o.lineHeight-1+"px"},children:[Object(y.jsx)("input",{ref:s,onKeyDown:function(t){if(x(t),!e(t,"down")){var n=t.key;if(!f.b.some((function(e){return t.getModifierState(e)})))return 1===n.length||"Backspace"===n?(u({type:"typing",char:n,time:Date.now()}),void t.preventDefault()):void 0}},onKeyUp:function(t){e(t,"up"),x(t)},style:{height:0,padding:0,border:0,position:"absolute"},onFocus:function(){return j(!0)},onBlur:function(){return j(!1)}}),Object(y.jsx)("p",{style:{visibility:p?"visible":"hidden"},children:"CAPSLOCK IS ACTIVE"}),Object(y.jsx)("div",{className:"threeLines",style:{height:M+"px",width:o.width*Object(f.g)("a",o)},children:Object(y.jsxs)("div",{className:"words",onClick:function(){var t;return null===(t=s.current)||void 0===t?void 0:t.focus()},style:{transform:"translateY(0px)"},children:[k.map((function(t){var e=Object(r.a)(t,2),n=e[0],c=e[1];return n&&Object(y.jsx)(C,{text:n,typed:c},n)})),Object(y.jsx)(w,{position:g,focused:h})]})})]})},S=n(365),E=n(333),K=n(334),A=n(361),I=n(335),T=n(336),P=n(355);n(68);var F=function(){var t=J(),e=t.content,n=t.typed,c=t.config,a=function(t,e){var n=0,c=0,i=0,a=0;return s()(Object(f.h)(t),Object(f.h)(e)).forEach((function(t){var e=Object(r.a)(t,2),o=e[0],u=e[1];s()(Object(f.d)(o),Object(f.d)(u)).forEach((function(t){var e=Object(r.a)(t,2),o=e[0],u=e[1];o||a++,u?o===u?n++:c++:i++})),n++})),{correct:--n,incorrect:c,missing:i,extra:a}}(e.text,n),o=t.timeline[0].timestamp,u=(d()(t.timeline).timestamp-o)/1e3,l=i.a.useMemo((function(){var e=Array.from({length:Math.round(u)}).map((function(e,n){return{second:n+1,wpm:W(t,n),raw:D(t,n),errors:B(t,n),typed:H(t,n)}}));return d()(e).second=u,e}),[t,u]),h=i.a.useMemo((function(){var t=Object(f.h)(e.text).join("").length;return 100*(1-l.reduce((function(t,e){return e.errors?t+e.errors:t}),0)/t)}),[l,e]);return Object(y.jsxs)("div",{className:"Stats",children:[Object(y.jsxs)("div",{className:"wpm",children:[Object(y.jsx)("h3",{children:"wpm"}),Object(y.jsx)("h2",{children:Math.round(m(t))})]}),Object(y.jsxs)("div",{className:"acc",children:[Object(y.jsx)("h3",{children:"acc"}),Object(y.jsxs)("h2",{children:[Math.round(h),"%"]})]}),Object(y.jsx)("div",{className:"chart",children:Object(y.jsxs)(S.a,{width:15*c.width,height:300,data:l,children:[Object(y.jsx)(E.a,{type:"monotone",yAxisId:"wpm",dataKey:"raw",stroke:"darkred",fill:"darkred"}),Object(y.jsx)(E.a,{type:"monotone",yAxisId:"wpm",dataKey:"wpm",stroke:"red",fill:"red"}),Object(y.jsx)(K.a,{type:"monotone",yAxisId:"errors",dataKey:"errors",stroke:"black",fill:"gray"}),Object(y.jsx)(A.a,{stroke:"#fff3",strokeDasharray:"5 5"}),Object(y.jsx)(I.a,{type:"number",dataKey:"second",tickCount:10,domain:[1,"dataMax"],allowDecimals:!1}),Object(y.jsx)(T.a,{yAxisId:"wpm"}),Object(y.jsx)(T.a,{yAxisId:"errors",orientation:"right",allowDecimals:!1}),Object(y.jsx)(P.a,{})]})}),Object(y.jsxs)("div",{className:"raw",children:[Object(y.jsx)("h3",{children:"raw"}),Object(y.jsx)("h2",{children:Math.round(b(t))})]}),Object(y.jsxs)("div",{className:"chars",children:[Object(y.jsx)("h3",{children:"characters"}),Object(y.jsxs)("h2",{children:[a.correct,"/",a.incorrect,"/",a.extra,"/",a.missing]})]}),Object(y.jsxs)("div",{className:"time",children:[Object(y.jsx)("h3",{children:"time"}),Object(y.jsxs)("h2",{children:[Math.round(u),"s"]})]})]})};function D(t,e){var n=t.timeline[0].timestamp,r=O(t,n+1e3*(e-1),n+1e3*(e+2),!0);if(0===r.length)return 0;var c={typed:d()(r).typed,content:t.content,timeline:r};return Math.round(b(c))}function W(t,e){var n=t.timeline[0].timestamp,r=O(t,n,n+1e3*(e+1),!0);if(0===r.length)return 0;var c={typed:d()(r).typed,content:t.content,timeline:r};return Math.round(m(c))}function B(t,e){var n=t.timeline[0].timestamp,r=O(t,n+1e3*e,n+1e3*(e+1),!1);return 0===r.length?null:r.reduce((function(e,n){return e+Number(v({typed:n.typed,content:t.content}))}),0)||null}function H(t,e){var n=t.timeline[0].timestamp,r=O(t,n,n+1e3*(e+1),!1);return 0===r.length?"":d()(r).typed}var L=function(t){var e=t.onKeyPress;return"stats"===J().screen?Object(y.jsx)(F,{}):Object(y.jsx)(N,{onKeyPress:e})},z=i.a.createContext(U({text:""})),R=i.a.createContext(null);function q(t){var e=t.typed,n=t.content,c=t.onType,a=t.onKeyPress,o=void 0===a?function(){return!1}:a,u=t.restartOnContentChange,s=void 0===u||u,l=i.a.useReducer(x,null,(function(){return U(n)})),d=Object(r.a)(l,2),f=d[0],h=d[1];i.a.useEffect((function(){h({type:"init",content:n,reset:s})}),[n,s]),i.a.useEffect((function(){e&&h({type:"merge",state:{typed:e}})}),[e]);var j=i.a.useRef(null);return i.a.useEffect((function(){c&&j.current!==f.typed&&(null!==j.current&&c(f),j.current=f.typed)}),[f,c]),Object(y.jsx)(R.Provider,{value:h,children:Object(y.jsx)(z.Provider,{value:f,children:Object(y.jsx)(L,{onKeyPress:o})})})}function J(){return i.a.useContext(z)}function G(){return i.a.useContext(R)}function U(t){return x(null,{type:"init",content:t,reset:!0})}}}]);
//# sourceMappingURL=6.896ad15e.chunk.js.map